<source>
  @type prometheus
  bind {{ fluentd_metrics_bind_address }}
  port {{ fluentd_metrics_listen_port }}
  metrics_path /metrics
</source>

<source>
  @type prometheus_monitor
  interval 10
  <labels>
    hostname ${hostname}
  </labels>
</source>

<source>
  @type prometheus_output_monitor
  interval 10
  <labels>
    hostname ${hostname}
  </labels>
</source>

<source>
  @type prometheus_tail_monitor
  interval 10
  <labels>
    hostname ${hostname}
  </labels>
</source>

@include conf.d/*.conf
@include input-conf.d/*.conf
@include filter-conf.d/*.conf
@include output-conf.d/*.conf
